<!DOCTYPE html>
<html lang="en">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
	<meta charset="utf-8">
	<meta name="theme-color" content="#222222">
	<meta content="yes" name="apple-mobile-web-app-capable">
	<link rel="shortcut icon" href=""/>
	<title>COLOR Q</title>
	<style>

	.lstIprev {
		width: 120px;
		height: 250px;
		background-color: black;
		border: 1px solid #B3FB2D;
		margin: auto;
  		position: absolute;
  		bottom: 0px;
  		left: 5px;
	}

	.lstI:hover {
    background: #B3FB2D;
}
	</style>
	<script>function feedback(){}</script>
	<link rel="stylesheet" href="index.css">
	<link rel="stylesheet" href="style.css">
</head>
<body onload="onLoad()" style="background-color: rgb(22, 22, 22);">

<div id="cv" class="overlay">Loading COLOR Q UI...</div>

<noscript><div class="overlay" style="opacity:1;">Sorry, COLOR Q UI needs JavaScript!</div></noscript>
<div id="bg"></div>

<div class="wrapper" id="top" style="background-color: rgb(22, 22, 22);">
	<div class="tab top">
		<div class="btnwrap">
			<button style="display: none;" id="buttonPower" onclick="togglePower()" class="tgl"><i class="icons">&#xe08f;</i><p class="tab-label">Power</p></button>
			<button style="display: none;" id="buttonNl" onclick="toggleNl()"><i class="icons">&#xe2a2;</i><p class="tab-label">Timer</p></button>
			<button style="display: none;" id="buttonSync" onclick="toggleSync()"><i class="icons">&#xe116;</i><p class="tab-label">Sync</p></button>
			<button style="display: none;" id="buttonSr" onclick="toggleLiveview()"><i class="icons">&#xe410;</i><p class="tab-label">Peek</p></button>
			<button style="display: none;" id="buttonI" onclick="toggleInfo()"><i class="icons">&#xe066;</i><p class="tab-label">Info</p></button>
      		<button style="display: none;" id="buttonNodes" onclick="toggleNodes()"><i class="icons">&#xe22d;</i><p class="tab-label">Nodes</p></button></div>
			<button style="display: none;" onclick="window.location.href = '/settings';"><i class="icons">&#xe0a2;</i><p class="tab-label">Config</p></button>
		  <button style="display: none;" id="buttonPcm" onclick="togglePcMode(true)"><i class="icons">&#xe23d;</i><p class="tab-label">PC Mode</p></button>
		</div>
		<div id="briwrap">
			<p class="hd">Brightness</p>
			<div class="il" style="margin-top: 30px;">
				<i class="icons slider-icon" onclick="tglTheme()">&#xe2a6;</i>
				<div class="sliderwrap il" >
					<input id="sliderBri" style="border: none;"  onchange="setBri()" oninput="updateTrail(this)" max="255" min="1" type="range" value="128" />
					<div class="sliderdisplay"></div>
				</div>
			</div>
		</div>
		<iframe id="liveview" src="about:blank"></iframe>
	</div>
</div>

<div id="qcs-w" style="margin-top: 80px;">
			<div class="qcs" onclick="pC('#fc0000');" title="Red" style="background-color:#fc0000; padding: 20px; margin: 4px; border-radius: 4px; display: inline-block;"></div>
			<div class="qcs" onclick="pC('#ffa000');" title="Orange" style="background-color:#ffa000; padding: 20px; margin: 4px; border-radius: 4px; display: inline-block;"></div>
			<div class="qcs" onclick="pC('#ffc800');" title="Yellow" style="background-color:#ffc800; padding: 20px; margin: 4px; border-radius: 4px; display: inline-block;"></div>
			<div class="qcs" onclick="pC('#ffe0a0');" title="Warm White" style="background-color:#ffe0a0; padding: 20px; margin: 4px; border-radius: 4px; display: inline-block;"></div>
			<div class="qcs" onclick="pC('#ffffff');" title="White" style="background-color:#ffffff; padding: 20px; margin: 4px; border-radius: 4px; display: inline-block;"></div>
			<div class="qcs qcsb" onclick="pC('#000000');" title="Black" style="background-color:#000000;padding: 20px;border: 1px solid var(--c-f);"></div><br>
			<div class="qcs" onclick="pC('#ff00ff');" title="Pink" style="background-color:#ff00ff; padding: 20px; margin: 4px; border-radius: 4px; display: inline-block;"></div>
			<div class="qcs" onclick="pC('#0000ff');" title="Blue" style="background-color:#0000ff; padding: 20px; margin: 4px; border-radius: 4px; display: inline-block;"></div>
			<div class="qcs" onclick="pC('#00ffc8');" title="Cyan" style="background-color:#00ffc8; padding: 20px; margin: 4px; border-radius: 4px; display: inline-block;"></div>
			<div class="qcs" onclick="pC('#08ff00');" title="Green" style="background-color:#08ff00; padding: 20px; margin: 4px; border-radius: 4px; display: inline-block;"></div>
			<div class="qsc" onclick="pC('rnd');" title="Random" style="background-color:var(--c-3); margin: 4px; padding: 11px 20px; transform: translateY(-10px); border-radius: 4px; display: inline-block;">R</div>
		</div>

<div class ="container">
	<div id="Colors" class="tabcontent">
		<div id="picker" class="noslide"></div>
    <div id="vwrap">
      <div class="sliderwrap il" id="vwrap" style="margin-top: 0px;">
				<input id="sliderV" class="noslide" style="border: none;" oninput="fromV()" onchange="setColor(0)" max="100" min="0" type="range" value="128" step="any" />
				<div class="sliderdisplay"></div>
			</div><br>
    </div>
    <div id="kwrap">
			<div class="sliderwrap il">
				<input id="sliderK" class="noslide" style="border: none;" oninput="fromK()" onchange="setColor(0)" max="10091" min="1900" type="range" value="6550" />
				<div class="sliderdisplay"></div>
			</div>
		</div>
		<div id="rgbwrap">
      	<p class="labels">RGB color</p>
		<div class="sliderwrap il" id="rwrap">
				<input id="sliderR" style="border: none;" class="noslide" onchange="setColor(0)" oninput="fromRgb()" max="255" min="0" type="range" value="128" />
				<div class="sliderdisplay"></div>
			</div><br>
			<div class="sliderwrap il" id="gwrap">
				<input id="sliderG" class="noslide" onchange="setColor(0)" oninput="fromRgb()" max="255" min="0" type="range" value="128" />
				<div class="sliderdisplay"></div>
			</div><br>
			<div class="sliderwrap il" id="bwrap">
				<input id="sliderB" class="noslide" onchange="setColor(0)" oninput="fromRgb()" max="255" min="0" type="range" value="128" />
				<div class="sliderdisplay"></div>
			</div><br>
		</div>
		<div id="wwrap">
			<p class="labels">White channel</p>
			<div class="sliderwrap il">
				<input id="sliderW" class="noslide" onchange="setColor(0)" oninput="updateTrail(this)" max="255" min="0" type="range" value="128" />
				<div class="sliderdisplay"></div>
		</div>
	</div>
    <div id="wbal">
      <p class="labels">White balance</p>
			<div class="sliderwrap il">
				<input id="sliderA" class="noslide" onchange="setBalance(this.value)" max="255" min="0" type="range" value="128" />
				<div class="sliderdisplay"></div>
			</div>
		</div>
		
		<div id="csl" style="display: none;">
			<button class="xxs cl btn" onclick="selectSlot(0);">1</button>
			<button class="xxs cl btn" onclick="selectSlot(1);">2</button>
			<button class="xxs cl btn" onclick="selectSlot(2);">3</button>
		</div>
		<div id="hexw">
			<input id="hexc" type="text" class="noslide" onkeydown="hexEnter(this)" autocomplete="off" maxlength="8" />
			<button id="hexcnf" class="xxs btn" onclick="fromHex();"><i class="icons btna-icon">&#xe390;</i></button>
		</div>
		<p class="labels">
			<i class="icons sel-icon" onclick="tglHex()"></i>
			Color Q
		</p>
		<div class="il">
			<div id="pallist" style="display: none;" class="list">
				<div class="lstI" data-id="0">
					<label class="check schkl">
						&nbsp;
						<input type="radio" value="${palettes[i].id}" name="palette" onChange="setPalette()">
						<span class="radiomark schk"></span>
					</label>
					<div class="lstIcontent">
						<span class="lstIname">
							Default
						</span>
					</div>
				</div>
				<div class="lstI">
					<div class="lstIcontent">
						<span class="lstIname">
							Loading...
						</span>
					</div>
				</div>

			</div>
		</div>
	</div>

	<div id="Effects" class="tabcontent">
		<p style="background-color: #B3FB2D; color: black; padding: 10px 20px; width: 130px; border-radius: 10px; font-weight:700; margin:10px auto 5px auto; text-align: center;" class="labels">Effect speed</p>
		<div class="staytop" style="background-color: rgb(22, 22, 22); margin-bottom: 35px;">
			<i class="icons slider-icon">&#xe325;</i>
			<div class="sliderwrap il">
				<input id="sliderSpeed" style="border: none;" class="noslide" onchange="setSpeed()" oninput="updateTrail(this)" max="255" min="0" type="range" value="128" />
				<output class="sliderbubble hidden"></output>
				<div class="sliderdisplay"></div>
			</div>
		</div>
		<p style="background-color: #B3FB2D; color: black; padding: 10px 20px; width: 130px; border-radius: 10px; font-weight:700; margin:10px auto 5px auto; text-align: center;" class="labels">Effect intensity</p>
		<div class="staytop" id="staytop1" style="background-color: rgb(22, 22, 22); margin-bottom: 35px;">
			<i class="icons slider-icon" onclick="tglLabels()">&#xe409;</i>
			<div class="sliderwrap il">
				<input id="sliderIntensity" style="border: none;" class="noslide" onchange="setIntensity()" oninput="updateTrail(this)" max="255" min="0" type="range" value="128" />
				<output class="sliderbubble hidden"></output>
				<div class="sliderdisplay"></div>
			</div>
		</div>
		<p style="background-color: #B3FB2D; color: black; padding: 10px 20px; width: 130px; border-radius: 10px; font-weight:700; margin:10px auto 5px auto; text-align: center;" class="labels">Effect mode</p>
		<div id="fxlist" class="list" style=" transition: background-color 0.5s; margin: 16px auto; padding-bottom: 10px 10px; height: 70px; border-radius: 10px; border: 1px solid #B3FB2D; " >
			Loading...
		</div>
	</div>

	<div style="display: none;" id="Segments" class="tabcontent">
		<div id="segcont">
			Loading...
		</div>
		<div id="segutil">

		</div>
		<div id="segutil2">
			<button class="btn btn-s" id="rsbtn" onclick="rSegs()">Reset segments</button>
		</div>
    	<p>Transition: <input id="tt" class="noslide" type="number" min="0" max="65.5" step="0.1" value="0.7">s</p>
	</div>

	<div style="display: none;" id="Presets" class="tabcontent">
		<div id="putil">

		</div>
		<div id="pql">

		</div>
		<div id="pcont">
			Loading...
		</div>
	</div>
</div>

<div class="tab bot" style="background-color: #1b1b1b; height: 70px; border-top-right-radius: 35px; background-color: #B3FB2D; border-top-left-radius:35px ;" id="bot">
	<button class="tablinks" onclick="openTab(0)"><i style="color: #000000; " class="icons">&#xe2b3;</i><p class="tab-label"></p></button>
	<button style="" class="tablinks" onclick="openTab(1)"><i style="color: #000000;" class="icons">&#xe23d;</i><p class="tab-label"></p></button>
	<button style="display: none;" class="tablinks" onclick="openTab(2)"><i class="icons">&#xe34b;</i><p class="tab-label"></p></button>
	<button style="display: none;" class="tablinks" onclick="openTab(3)"><i class="icons">&#xe04c;</i><p class="tab-label"></p></button>
	<button  onclick="window.location.href = '/settings';"><i style="color: #000000;" class="icons">&#xe0a2;</i><p class="tab-label"></p></button>
	<button id="buttonSync" onclick="toggleSync()"><i style="color: #000000;" class="icons">&#xe116;</i><p class="tab-label"></p></button>
</div>

<div id="connind"></div>
<div id="toast"></div>
<div style="display: none;" id="namelabel" onclick="toggleNodes()"></div>
<div id="info" class="modal">
	<div id="imgw">
		<img class="wi" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAFCAYAAAC5Fuf5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABbSURBVChTlY9bDoAwDMNW7n9nwCipytQN4Z8tbrTHmDmF4oPzyldwRqp1SSdnV/NuZuzqerAByxXznBw3igkeFEfXyUuhK/yFM0CxJfyqXZEOc6/Sr9/bf7uIC5Nwd7orMvAPAAAAAElFTkSuQmCC" />
	</div><br>
<div id="kv">Loading...</div><br>
<button class="btn infobtn" onclick="requestJson(null)">Refresh</button>
<button class="btn infobtn" onclick="toggleInfo()">Close Info</button><br>
<button class="btn infobtn" onclick="toggleNodes()">Instance List</button>
<button class="btn infobtn" id="resetbtn" onclick="cnfReset()">Reboot COLOR Q</button><br>
<span class="h">Made with <span id="heart">&#10084;&#xFE0E;</span> by COLORQ Q</span>
</div>

<div id="nodes" class="modal">
  <div id="ndlt">COLOR Q instances</div>
  <div id="kn">Loading...</div><br>
  <button class="btn infobtn" onclick="loadNodes()">Refresh</button>
  <button class="btn infobtn" onclick="toggleNodes()">Close list</button><br>
</div>

<div id="rover" class="modal">
	<i class="icons huge">&#xe410;</i><br>
	<div id="lv">?</div><br><br>
	To use built-in effects, use an override button below.<br>
	You can return to realtime mode by pressing the star in the top left corner.<br>
	<button class="btn" onclick="setLor(1)">Override once</button>
	<button class="btn" onclick="setLor(2)">Override until reboot</button><br>
	<span class="h">For best performance, it is recommended to turn off the streaming source when not in use.</span>
</div>

<i id="roverstar" class="icons huge" onclick="setLor(0)">&#xe410;</i><br>
<script src="iro.js"></script>
<script src="rangetouch.js"></script>
<script src="index.js"></script>
</body>
</html>
